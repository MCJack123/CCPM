--Enabled for verbose mode
local _DEBUG = false

local function inArray(array, str)
  for _,v in pairs(array) do
    if v == str then
      return true
    end
  end
  return false
end

local function debugPrint(text)
  if _DEBUG then print(text) end
end 
local function isTable(t) return type(t) == "table" end
--Uncomment to allow -v argument
--if inArray(arg, "-v") then _DEBUG = true end
function ccp_load(file)
  local ccp = fs.open(file, "r")
  local data = ccp.readAll()
  ccp.close()
  return textutils.unserialize(data)
end
                                    
function ccp_pack(name, table)
  local file = fs.open(name, "w")
  file.write(textutils.serialize(table)
  file.close()
end

function ccp_add_folder(table, name, folder1="", folder2="", folder3="", folder4="")
  if folder1 != "" then
    if folder2 != "" then
      if folder3 != "" then
        if folder4 != "" then
          table["data"][folder1][folder2][folder3][folder4][name] = {}
        else
          table["data"][folder1][folder2][folder3][name] = {}
        end
      else
        table["data"][folder1][folder2][name] = {}
      end
    else
      table["data"][folder1][name] = {}
    end
  else
    table["data"][name] = {}
  end
  return table
end

function ccp_edit_file(table, name, content, folder1="", folder2="", folder3="", folder4="", folder5="")
  if folder1 != "" then
    if folder2 != "" then
      if folder3 != "" then
        if folder4 != "" then
          if folder5 != "" then
            table["data"][folder1][folder2][folder3][folder4][folder5][name] = content
          else
            table["data"][folder1][folder2][folder3][folder4][name] = content
          end
        else
          table["data"][folder1][folder2][folder3][name] = content
        end
      else
        table["data"][folder1][folder2][name] = content
      end
    else
      table["data"][folder1][name] = content
    end
  else
    table["data"][name] = content
  end
  return table
end

function ccp_extract(table, folder, createFolder = true)
  local path = folder
  if createFolder then
    path = path .. table["name"]
    fs.makeDir(path)
  end
  for k,v in ipairs(table) do
    if isTable(v) then
      for l,w in ipairs(v) do
        
